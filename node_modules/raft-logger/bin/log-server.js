#!/usr/bin/env node

var raft = require('raft');

raft.common.printLogo();

var webServer = require('../lib/logger/webserver').createServer();
var udpServer = require('../lib/logger/udpserver').createServer();

raft.once('start', function() {

	webServer.start();

	udpServer.start();

	process.on('SIGTERM', function() {
		console.log('SIGTERM received shutting down gracefully');
		udpServer.stop();
		webServer.stop();
		console.log('Shutdown gracefully.');
	});
});

raft.start(process.argv[2]);